<?php

use Phinx\Seed\AbstractSeed;

class DummyData extends AbstractSeed
{
    public function run(): void
    {
        $now = date('Y-m-d H:i:s');
        // タグデータ
        $tags = [
            ['id' => 1, 'tag_name' => 'ピッチング'],
            ['id' => 2, 'tag_name' => 'バッティング'],
            ['id' => 3, 'tag_name' => '守備'],
            ['id' => 4, 'tag_name' => '初心者向け'],
            ['id' => 5, 'tag_name' => '上級者向け'],
            ['id' => 6, 'tag_name' => 'メジャーリーグ'],
            ['id' => 7, 'tag_name' => 'プロ野球'],
            ['id' => 8, 'tag_name' => '高校野球'],
            ['id' => 9, 'tag_name' => 'トレーニング'],
            ['id' => 10, 'tag_name' => '戦術'],
        ];

        $tags = array_map(fn($tag) => [...$tag, 'created_at' => $now], $tags);
        $this->table('tags')->insert($tags)->saveData();

        // レビューデータ
        $reviews = [
            [
                'id' => 1,
                'title' => '大谷翔平の二刀流完全解説',
                'content' => 'メジャーリーグで活躍する大谷選手の投打におけるフォーム分析。特にピッチングモーションの流れと、バッティングでのタイミングの取り方が非常に参考になります。初心者から上級者まで学べる内容です。'
            ],
            [
                'id' => 2,
                'title' => '変化球の投げ方基礎講座',
                'content' => 'カーブ、スライダー、フォークボールなど主要な変化球の握り方と投げ方を丁寧に解説。手首の使い方や リリースポイントまで細かく説明されており、ピッチャー必見の内容です。'
            ],
            [
                'id' => 3,
                'title' => 'バッティングフォームの基本',
                'content' => '正しいスタンスから構え、スイング軌道まで段階的に学べます。プロ選手の実例を交えながら、パワーとミート力を両立させるコツを紹介。練習メニューも充実しています。'
            ],
            [
                'id' => 4,
                'title' => '内野守備の基礎トレーニング',
                'content' => 'ゴロの捕り方、送球フォーム、ダブルプレーの動き方など内野手に必要な技術を網羅。足の運び方や体重移動のポイントが分かりやすく解説されています。'
            ],
            [
                'id' => 5,
                'title' => '甲子園優勝投手のピッチング術',
                'content' => '高校野球で活躍した投手たちの投球フォームと配球を分析。プレッシャーの中でのメンタルコントロールについても触れられており、試合で使える実践的な内容です。'
            ],
            [
                'id' => 6,
                'title' => '外野手の守備範囲を広げる方法',
                'content' => '打球判断のコツ、スタートダッシュの技術、バックホーム送球の精度向上など、外野守備のレベルアップに必要な要素を詳しく解説しています。'
            ],
            [
                'id' => 7,
                'title' => 'ホームランバッターになるための筋トレ',
                'content' => '長打力アップに特化したトレーニングメニュー。下半身強化、体幹トレーニング、スイングスピード向上のための具体的なメニューが紹介されています。'
            ],
            [
                'id' => 8,
                'title' => 'プロ野球名選手のバッティング理論',
                'content' => '歴代の名打者たちが実践してきたバッティング理論を比較分析。それぞれの特徴と、自分に合った打法の見つけ方について学べます。'
            ],
            [
                'id' => 9,
                'title' => 'ピッチャーのコントロール改善法',
                'content' => '四球を減らし、狙ったコースに投げ分けるための練習方法。リリースポイントの安定化やメカニクスの最適化について詳しく説明されています。'
            ],
            [
                'id' => 10,
                'title' => 'メジャーリーグの最新守備戦術',
                'content' => 'データ分析に基づいた守備シフトや、状況別のポジショニングなど、MLBで実践されている最先端の守備戦術を紹介。チーム守備の向上に役立ちます。'
            ],
            [
                'id' => 11,
                'title' => '少年野球のための正しい投げ方',
                'content' => '成長期の子供たちが怪我をせずに野球を楽しむための正しい投球フォーム。肘や肩への負担を減らす投げ方を、分かりやすく丁寧に指導しています。'
            ],
            [
                'id' => 12,
                'title' => 'バントの極意と成功率向上テクニック',
                'content' => 'セーフティバント、送りバント、スクイズなど状況に応じたバント技術を解説。構え方からバットの出し方まで細かくレクチャーしています。'
            ],
            [
                'id' => 13,
                'title' => '速球派ピッチャーの球速アップ方法',
                'content' => '140km/h超えを目指すための段階的なトレーニング。投球メカニクスの改善、下半身強化、柔軟性向上など多角的にアプローチします。'
            ],
            [
                'id' => 14,
                'title' => '状況判断力を高める野球IQ講座',
                'content' => 'ケースバイケースでの最適なプレー選択、走塁判断、守備位置の調整など、試合で勝つための頭脳的な要素を学べます。実戦で使える戦術知識が満載です。'
            ],
            [
                'id' => 15,
                'title' => 'キャッチャーのリード術入門',
                'content' => '配球の組み立て方、投手との コミュニケーション、盗塁阻止のテクニックなど、捕手に必要なスキルを総合的に解説しています。'
            ],
            [
                'id' => 16,
                'title' => '打撃フォームの個別診断と改善',
                'content' => '様々なタイプの打者のフォームを分析し、それぞれの課題と改善ポイントを具体的に指摘。自分の癖を見つけて修正するヒントが得られます。'
            ],
            [
                'id' => 17,
                'title' => '盗塁成功率を上げる走塁テクニック',
                'content' => 'スタートのタイミング、スライディング技術、投手の癖の読み方など、盗塁を成功させるための実践的なノウハウを紹介しています。'
            ],
            [
                'id' => 18,
                'title' => 'メンタルトレーニングで試合に強くなる',
                'content' => 'プレッシャーに負けない心の作り方、集中力の高め方、ルーティンの重要性など、メンタル面から野球のパフォーマンスを向上させる方法を学べます。'
            ],
            [
                'id' => 19,
                'title' => 'ダブルプレーを確実に取る連携プレー',
                'content' => '二塁手と遊撃手の動き、一塁手のベースカバー、タイミングの合わせ方など、美しいダブルプレーを完成させるための連携技術を詳しく解説しています。'
            ],
            [
                'id' => 20,
                'title' => '雨天時の野球技術とグラウンド対策',
                'content' => '雨や湿ったグラウンドでのプレー方法、グリップの調整、足元の注意点など、悪天候でもパフォーマンスを落とさないためのコツを紹介します。'
            ],
        ];
        $reviews = array_map(fn($review) => [...$review, 'created_at' => $now], $reviews);
        $this->table('reviews')->insert($reviews)->saveData();

        // レビューとタグの関連付け
        $reviewTags = [
            // 1. 大谷翔平の二刀流完全解説
            ['review_id' => 1, 'tag_id' => 1], // ピッチング
            ['review_id' => 1, 'tag_id' => 2], // バッティング
            ['review_id' => 1, 'tag_id' => 6], // メジャーリーグ

            // 2. 変化球の投げ方基礎講座
            ['review_id' => 2, 'tag_id' => 1], // ピッチング
            ['review_id' => 2, 'tag_id' => 4], // 初心者向け

            // 3. バッティングフォームの基本
            ['review_id' => 3, 'tag_id' => 2], // バッティング
            ['review_id' => 3, 'tag_id' => 4], // 初心者向け

            // 4. 内野守備の基礎トレーニング
            ['review_id' => 4, 'tag_id' => 3], // 守備
            ['review_id' => 4, 'tag_id' => 4], // 初心者向け
            ['review_id' => 4, 'tag_id' => 9], // トレーニング

            // 5. 甲子園優勝投手のピッチング術
            ['review_id' => 5, 'tag_id' => 1], // ピッチング
            ['review_id' => 5, 'tag_id' => 8], // 高校野球
            ['review_id' => 5, 'tag_id' => 10], // 戦術

            // 6. 外野手の守備範囲を広げる方法
            ['review_id' => 6, 'tag_id' => 3], // 守備
            ['review_id' => 6, 'tag_id' => 9], // トレーニング

            // 7. ホームランバッターになるための筋トレ
            ['review_id' => 7, 'tag_id' => 2], // バッティング
            ['review_id' => 7, 'tag_id' => 9], // トレーニング
            ['review_id' => 7, 'tag_id' => 5], // 上級者向け

            // 8. プロ野球名選手のバッティング理論
            ['review_id' => 8, 'tag_id' => 2], // バッティング
            ['review_id' => 8, 'tag_id' => 7], // プロ野球
            ['review_id' => 8, 'tag_id' => 5], // 上級者向け

            // 9. ピッチャーのコントロール改善法
            ['review_id' => 9, 'tag_id' => 1], // ピッチング
            ['review_id' => 9, 'tag_id' => 9], // トレーニング

            // 10. メジャーリーグの最新守備戦術
            ['review_id' => 10, 'tag_id' => 3], // 守備
            ['review_id' => 10, 'tag_id' => 6], // メジャーリーグ
            ['review_id' => 10, 'tag_id' => 10], // 戦術
            ['review_id' => 10, 'tag_id' => 5], // 上級者向け

            // 11. 少年野球のための正しい投げ方
            ['review_id' => 11, 'tag_id' => 1], // ピッチング
            ['review_id' => 11, 'tag_id' => 4], // 初心者向け

            // 12. バントの極意と成功率向上テクニック
            ['review_id' => 12, 'tag_id' => 2], // バッティング
            ['review_id' => 12, 'tag_id' => 10], // 戦術

            // 13. 速球派ピッチャーの球速アップ方法
            ['review_id' => 13, 'tag_id' => 1], // ピッチング
            ['review_id' => 13, 'tag_id' => 9], // トレーニング
            ['review_id' => 13, 'tag_id' => 5], // 上級者向け

            // 14. 状況判断力を高める野球IQ講座
            ['review_id' => 14, 'tag_id' => 10], // 戦術
            ['review_id' => 14, 'tag_id' => 5], // 上級者向け

            // 15. キャッチャーのリード術入門
            ['review_id' => 15, 'tag_id' => 3], // 守備
            ['review_id' => 15, 'tag_id' => 10], // 戦術
            ['review_id' => 15, 'tag_id' => 4], // 初心者向け

            // 16. 打撃フォームの個別診断と改善
            ['review_id' => 16, 'tag_id' => 2], // バッティング
            ['review_id' => 16, 'tag_id' => 9], // トレーニング

            // 17. 盗塁成功率を上げる走塁テクニック
            ['review_id' => 17, 'tag_id' => 10], // 戦術
            ['review_id' => 17, 'tag_id' => 9], // トレーニング

            // 18. メンタルトレーニングで試合に強くなる
            ['review_id' => 18, 'tag_id' => 9], // トレーニング

            // 19. ダブルプレーを確実に取る連携プレー
            ['review_id' => 19, 'tag_id' => 3], // 守備
            ['review_id' => 19, 'tag_id' => 10], // 戦術

            // 20. 雨天時の野球技術とグラウンド対策
            ['review_id' => 20, 'tag_id' => 10], // 戦術
        ];
        $reviewTags = array_map(fn($rt) => [...$rt, 'created_at' => $now], $reviewTags);
        $this->table('review_tags')->insert($reviewTags)->saveData();
    }
}